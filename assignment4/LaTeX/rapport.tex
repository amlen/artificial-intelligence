% Local search
\section{The Wedding Problem}
\begin{enumerate}
    \item Compare the 2 strategies implemented in the previous question between
    each other and with randomwalk, defined in search.py on the given wedding
    instances. Report in a table, the computation time, the value of the best
    solution and the number of steps when the best result was reached. For the
    second and third strategies, each instance should be tested 10 times to
    eliminate effects of the randomness on the result. When multiple run of the
    same instance are executed, report the means of the quantities.
    \begin{framed}
    	\begin{tabular}{l|l|l|l}
    					& maxvalue 		& randomized maxvalue	& randomwalk\\
            \hline
    		64\_16	 	& 5.61 sec		& 6.27 sec		& 6.22 sec\\
    					& 507			& 504.6			& 252.1\\
    					& 32 steps		& 78.6 steps	& 0.2 steps\\
    		99\_33	 	& 21.15 sec		& 21.18 sec		& 19.43 sec\\
    					& 596	 		& 634.8 		& 288.6\\
    					& 38 steps		& 95 steps		& 0.2 steps\\
    		100\_10	 	& 24.03 sec		& 27.22 sec 	& 25.60 sec\\
    					& 1338			& 1379.8		& 410.1\\
    					& 44 steps		& 90 steps		& 2.1 steps\\
    		100\_20	 	& 17.03 sec		& 19.51 sec 	& 17.6 sec\\
    					& 950 			& 954 			& 374.1\\
    					& 52 steps		& 98.7 steps 	& 0.2 steps\\
    	\end{tabular}
    \end{framed}

    \item Answer the following questions:
    	\begin{enumerate}
    		\item What is the best strategy ?
    			\begin{framed}
    				According to the result obtained, the best strategy is randomized maxvalue.
    			\end{framed}
    		\item Why do you think the best strategy beats the other ones ?
    			\begin{framed}
    				Because it offers a good trade-off between diversification
                    and intensification. It always try to proceed toward a
                    better solution but not always through the same way and
                    as such tend to fall less inside local optimum than
                    maxvalue. It is also obviously better than randomwalk as
                    randomwalk doesn't even try to reach a better solution,
                    although thanks to that it will never fall in a local
                    optimum.
    			\end{framed}
    		\item What are the limitations of each strategy in terms of
            diversification and intensification ?
    			\begin{framed}
                    \begin{description}
                        \item[maxvalue] is the best in terms of intensification
                        but worst in terms of diversification, as such it tend to
                        find a good solution rather fast but fail at improving it
                        after a while as it has only a single chance to exit a
                        local optimum. \newline \newline
                        \item[randomwalk] is focused on diversification while
                        avoiding intensification, this result in never falling in
                        local optimum at the cost of never really working toward
                        a better solution. If a better solution is found, it was
                        by luck only.\newline \newline
                        \item[randomized maxvalue] offer a good trade of between
                        the two, it always tries to work toward a better solution
                        unlike randomwalk but also has opportunities to avoid
                        falling into local optimum thanks to it's slight
                        diversification. However some local optimum will still
                        be able to trap it as it never consider that two
                        \enquote{bad} swap of guest could lead to a better solution.
                        It is thus also limited although less than the other.
                    \end{description}
    			\end{framed}
    		\item What is the behaviour of the different techniques when they
            fall in a local optimum.
    			\begin{framed}
                    \begin{description}
    				\item[maxvalue] will try the move leading to the best
                    solution in lexicographic order although it remains
                    degrading comparing to the current best reached. If that
                    solution can lead to a better solution than the best
                    solution found yet will escape the local minimum but it
                    will fall back in otherwise and never be able to leave.
                    \newline
    				\item[randomwalk] never really 'falls' in a local optimum
                    as it never really tries to find them in the first place.
                    If it stumble upon one it will just casually leave it
                    unless it is really unlucky and keep going back in (which
                    is unlikely but remains possible)\newline
    				\item[randomized maxvalue] will have a choice of five
                    moves to try to exit the local optimum, if one of the moves
                    can lead to a better solution it will thus escape and
                    otherwise it will forever fall back and try to find a way
                    to exit.
                \end{description}
    			\end{framed}
    	\end{enumerate}
\end{enumerate}
% Propositionnal logic
\section{Propositional logic}
\begin{enumerate}
    \item For each instance below, give it's number of valid interpretations,
    i.e. the number of times the sentence is true (considering for each
    sentence all the proposition variables A, B , C an D).
    	\begin{enumerate}
    		\item $(A \wedge \lnot B) \vee (B \wedge \lnot C)$
    			\begin{framed}
    				\begin{tabular}{c|c|c|c|c|c|c}
    					A	&B	&C	&D	&$(A \wedge \lnot B)$	&$(B \wedge \lnot C)$ &Result\\
    					T	&T	&T	&T	&F			&F			&F\\
    					T	&T	&T	&F	&F			&F			&F\\
    					T	&T	&F	&T	&F			&\textbf{T}	&\textbf{T}\\
    					T	&F	&T	&T	&\textbf{T}	&F			&\textbf{T}\\
    					F	&T	&T	&T	&F			&F			&F\\
    					T	&T	&F	&F	&F			&\textbf{T}	&\textbf{T}\\
    					T	&F	&T	&F	&\textbf{T}	&F			&\textbf{T}\\
    					F	&T	&T	&F	&F			&F			&F\\
    					T	&F	&F	&T	&\textbf{T}	&F			&\textbf{T}\\
    					F	&T	&F	&T	&F			&\textbf{T}	&\textbf{T}\\
    					F	&F	&T	&T	&F			&F			&F\\
    					T	&F	&F	&F	&\textbf{T}	&F			&\textbf{T}\\
    					F	&T	&F	&F	&F			&\textbf{T}	&\textbf{T}\\
    					F	&F	&T	&F	&F			&F			&F\\
    					F	&F	&F	&T	&F			&F			&F\\
    					F	&F	&F	&F	&F			&F			&F\\
    				\end{tabular}
    				\FloatBarrier
    				\vspace{5mm}
    				Thus eight valid interpretations
    			\end{framed}
    		\item $(A \Rightarrow \lnot B) \wedge \lnot(C \vee \lnot D)$
    			\begin{framed}
    				\begin{tabular}{c|c|c|c|c|c|c}
    					A	&B	&C	&D	&$(A \Rightarrow \lnot B)$	&$\lnot(C \vee \lnot D)$ &Result\\
    					T	&T	&T	&T	&F			&F			&F\\
    					T	&T	&T	&F	&F			&F			&F\\
    					T	&T	&F	&T	&F			&\textbf{T}	&F\\
    					T	&F	&T	&T	&\textbf{T}	&F			&F\\
    					F	&T	&T	&T	&\textbf{T}	&F			&F\\
    					T	&T	&F	&F	&F			&F			&F\\
    					T	&F	&T	&F	&\textbf{T}	&F			&F\\
    					F	&T	&T	&F	&\textbf{T}	&F			&F\\
    					T	&F	&F	&T	&\textbf{T}	&\textbf{T}	&\textbf{T}\\
    					F	&T	&F	&T	&\textbf{T}	&\textbf{T}	&\textbf{T}\\
    					F	&F	&T	&T	&\textbf{T}	&F			&F\\
    					T	&F	&F	&F	&\textbf{T}	&F			&F\\
    					F	&T	&F	&F	&\textbf{T}	&F			&F\\
    					F	&F	&T	&F	&\textbf{T}	&F			&F\\
    					F	&F	&F	&T	&\textbf{T}	&\textbf{T}	&\textbf{T}\\
    					F	&F	&F	&F	&\textbf{T}	&F			&F\\
    				\end{tabular}
    				\FloatBarrier
    				\vspace{5mm}
    				Thus three valid interpretations
    			\end{framed}
    	\end{enumerate}

    \item Explain how you can express this problem with propositional logic.
    What are the variables and how do you translate the relations and the query ?
    	\begin{framed}
    		There are three type of variable:
    			\begin{enumerate}
    				\item \textbf{Abilities} of which the set is denoted as
    				($A_1, A_2, A_3, ..., A_n$)
    				\item \textbf{Equipments} of which the set is denoted as
    				($E_1, E_2, E_3, ..., E_n$)
    				\item \textbf{Monsters} of which the set is denoted as
    				($M_1, M_2, M_3, ..., M_n$)
    			\end{enumerate}
    			\FloatBarrier
    			\vspace{5mm}
    			Those variables are used to express the four relations which
                compose the problem, allowing us to make queries. The four
                relations are:
    			\vspace{5mm}
    			\begin{enumerate}
    				\item \textbf{Provides : } As Equipement grant abilities, possessing
    				an equipement E implies that you possess it's n abilities
    				($A_1, A_2, A_3, ..., A_n$). Thus $E \Rightarrow A_1 \wedge A_2
    				\wedge ... \wedge A_n$
    				\item \textbf{isProvided : } As Abilities are provided by equipment,
    				possessing an ability implies that you possess at least one of the n
    				equipments ($E_1, E_2, E_3, ..., E_n$) which provide it.
    				Thus $A \Rightarrow E_1 \vee E_2 \vee ... \vee E_n$
    				\item \textbf{Conflicts : } As it is impossible to equip two conflicting
    				equipment, given an equipment E and ($E_1, E_2, E_3, ..., E_n$) the set
    				of equipment it conflicts with, this relation can be translated as
    				$E \Rightarrow \lnot(E_1 \vee E_2 \vee ... \vee E_n)$
    				\item \textbf{Requires : } As Ennemies can only be beaten provided you
    				have the required n abilities ($A_1, A_2, A_3, ..., A_n$), this relation
    				can be translated as $M \Rightarrow A_1 \wedge A_2 \wedge
    				... \wedge A_n$
    			\end{enumerate}
    			\vspace{5mm}
    			Thus as $((A \Rightarrow B) \wedge (C \Rightarrow D)) \Rightarrow
    			((A \wedge C) \Rightarrow (B \wedge D))$ our model can be simply
    			expressed as : \newline
    			\FloatBarrier
    			$(M_1 \wedge ... \wedge M_a) \Rightarrow (A_1 \wedge ... \wedge
    			A_b) \Rightarrow (E_1 \wedge ... \wedge E_c)\Rightarrow \lnot
    			(E_x \vee ... \vee E_y) \iff$\newline
    			\FloatBarrier
    			Which means in English that a set of A enemies implies a set of B
    			abilities which in turn implies the use of a set of C non conflicting
    			equipment which themselves render unequipable a set of D equipment which
    			conflict with the previous C.
    	\end{framed}

    \item Translate your model into Conjonctive Normal Form (CNF) and write it in your report.
    	\begin{framed}
    		$(M_1 \wedge ... \wedge M_a) \Rightarrow (A_1 \wedge ... \wedge
    			A_b) \Rightarrow (E_1 \wedge ... \wedge E_c)\Rightarrow \lnot
    			(E_x \vee ... \vee E_y) \iff$\newline
    		Removing implication \newline
    		$\lnot(M_1 \wedge ... \wedge M_a) \vee (A_1 \wedge ... \wedge A_b)
    		\Rightarrow (E_1 \wedge ... \wedge E_c)\Rightarrow \lnot(E_x \vee ...
    		\vee E_y) \iff$\newline
    		Removing implication \newline
    		$\lnot(\lnot(M_1 \wedge ... \wedge M_a) \vee (A_1 \wedge ... \wedge A_b))
    		\vee (E_1 \wedge ... \wedge E_c)\Rightarrow \lnot(E_x \vee ...
    		\vee E_y) \iff$\newline
    		Removing implication \newline
    		$\lnot(\lnot(\lnot(M_1 \wedge ... \wedge M_a) \vee (A_1 \wedge ... \wedge A_b))
    		\vee (E_1 \wedge ... \wedge E_c)) \vee \lnot(E_x \vee ...
    		\vee E_y) \iff$\newline
    		Simplification by removing leftmost negation \newline
    		$(\lnot(M_1 \wedge ... \wedge M_a) \vee (A_1 \wedge ... \wedge A_b)
    		\wedge \lnot(E_1 \wedge ... \wedge E_c)) \vee \lnot(E_x \vee ...
    		\vee E_y) \iff$\newline
    		Simplification by application of negation on parenthesis \newline
    		$((\lnot M_1 \vee ... \vee \lnot M_a) \vee (A_1 \wedge ... \wedge A_b)
    		\wedge (\lnot E_1 \vee ... \vee \lnot E_c)) \vee (\lnot E_x \wedge ...
    		\wedge \lnot E_y) \iff$\newline
    		Fusion of $(A_1 \wedge ... \wedge A_b)$ and $(\lnot E_1 \vee ... \vee
    		\lnot E_c)$\newline
    		$((\lnot M_1 \vee ... \vee \lnot M_a) \vee (A_1 \wedge ... \wedge A_b
    		\wedge (\lnot E_1 \vee ... \vee \lnot E_c))) \vee (\lnot E_x \wedge ...
    		\wedge \lnot E_y) \iff$\newline
    		Distribution of $(\lnot M_1 \vee ... \vee \lnot M_a)$\newline
    		$((A_1 \vee \lnot M_1 \vee ... \vee \lnot M_a) \wedge ... \wedge (A_b \vee
    		\lnot M_1 \vee ... \vee \lnot M_a) \wedge (\lnot E_1 \vee ... \vee \lnot E_c
    		\vee \lnot M_1 \vee ... \vee \lnot M_a)) \vee (\lnot E_x \wedge ...
    		\wedge \lnot E_y) \iff$\newline
    		Distribution of $(\lnot E_x \wedge ... \wedge \lnot E_y)$\newline
    		$(A_1 \vee \lnot M_1 \vee ... \vee \lnot M_a \vee (\lnot E_x \wedge ...
    		\wedge \lnot E_y)) \wedge ... \wedge (A_b \vee
    		\lnot M_1 \vee ... \vee \lnot M_a \vee (\lnot E_x \wedge ...
    		\wedge \lnot E_y)) \wedge (\lnot E_1 \vee ... \vee \lnot E_c
    		\vee \lnot M_1 \vee ... \vee \lnot M_a \vee (\lnot E_x \wedge ...
    		\wedge \lnot E_y))$\newline
    		Simplification by distribution \newline
    		$(\lnot E_x \vee A_1 \vee \lnot M_1 \vee ... \vee \lnot M_a) \wedge ...
    		\wedge (\lnot E_x \vee A_b \vee \lnot M_1 \vee ... \vee \lnot M_a) \wedge ...
    		\wedge (\lnot E_y \vee A_1 \vee \lnot M_1 \vee ... \vee \lnot M_a) \wedge ...
    		\wedge (\lnot E_y \vee A_b \vee \lnot M_1 \vee ... \vee \lnot M_a)
    		\wedge (\lnot E_x \vee \lnot E_1 \vee ... \vee \lnot E_c \vee \lnot M_1
    		\vee ... \vee \lnot M_a) \wedge ... \wedge (\lnot E_y \vee \lnot E_1 \vee ...
    		\vee \lnot E_c \vee \lnot M_1 \vee ... \vee \lnot M_a)$\newline
    	\end{framed}
\end{enumerate}
